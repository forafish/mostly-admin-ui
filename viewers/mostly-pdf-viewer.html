<link rel="import" href="../../polymer/polymer.html">

<!--
An element for viewing PDF files.

Example:

    <mostly-pdf-viewer src="sample.pdf"></mostly-pdf-viewer>

### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--mostly-pdf-viewer-layout`  | Mixin applied to the viewer | `{}`
`--mostly-pdf-viewer-iframe`  | Mixin applied to the iframe enclosing pdfjs | `{}`

@group Mostly UI Elements
@element mostly-pdf-viewer
-->
<dom-module id="mostly-pdf-viewer">

  <template>
    <style>
      :host {
        display: block;
        @apply(--mostly-pdf-viewer-layout);
      }

      iframe {
        width: 100%;
        height: 100%;
        border: 0;
        @apply(--mostly-pdf-viewer-iframe);
      }
    </style>

    <iframe src$="[[_path(src)]]"></iframe>

  </template>

  <script>
    Polymer({
      is: 'mostly-pdf-viewer',
      properties: {

        /**
         * The path to the pdf file to display.
         */
        src: {
          type: String
        }
      },

      _path: function(file) {
        // get an absolute href
        file = this.create("a", {href: file}).href;
        return this.resolveUrl('pdfjs/web/viewer.html?file=' + file);
      }
    });
  </script>
</dom-module>