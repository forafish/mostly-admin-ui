<script>
  (function () {
    var url = 'bower_components/mostly-elements/themes/' + (localStorage.getItem('theme') || 'default') + '/theme.html';
    var xhr = new XMLHttpRequest();
    xhr.open('HEAD', url, false);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4) {
        if (xhr.status === 404) {
          console.warn('"' + localStorage.getItem('theme') + '" theme not found, fallback to "default".');
          localStorage.setItem('theme', 'default');
        }
        var link = document.createElement('link');
        link.setAttribute('rel', 'import');
        link.setAttribute('href', 'bower_components/mostly-elements/themes/' + (localStorage.getItem('theme') || 'default') + '/theme.html');
        document.head.appendChild(link);
      }
    };
    xhr.send(null);
  })();
</script>
